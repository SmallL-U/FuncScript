# 基本框架概述

该项目是一个简单的框架，提供了一些常用工具，以便于 Shell 脚本的开发。它包含一个主执行脚本以及用于日志记录和文件操作等任务的实用函数。

## 文件结构

- **fire.sh**：  
  主脚本，其主要功能包括：
  - 验证当前运行环境是否为 Bash，并检查是否具有必要的执行权限。
  - 将工作目录切换到脚本所在位置。
  - 如果不存在，则创建 `logs` 目录。
  - 在子 Shell 中执行，以确保环境隔离。
  - 加载 `scripts/utils.sh`，该文件提供了一系列常用实用函数。
  - 加载 `scripts/run.sh` 以实现额外的运行时逻辑（可根据需要自定义）。
  - 将所有输出记录到 `logs` 目录下以日期命名的日志文件中。
  - 自动清理 30 天前的日志文件。

- **scripts/utils.sh**：  
  提供了一系列常用实用函数，包括：
  - 日志记录函数：`info()`、`warn()` 和 `error()` 用于不同的日志级别。
  - 辅助函数 `cp_if_diff()`：仅在源文件与目标文件的 SHA256 校验和不同时执行复制操作。  
  
  *注意*：这些工具函数作为基本工具包提供，可以根据需求扩展或修改。

- **scripts/run.sh**：  
  用于执行额外的命令或自定义逻辑。当前文件为空，可按需进行定制。

## 先决条件

- **Bash**：请确保使用 Bash 来运行这些脚本。
- **执行权限**：脚本（尤其是 `fire.sh`）必须具有执行权限。你可以使用以下命令设置权限：
  ```bash
  chmod +x fire.sh
  ```
- **日志目录**：如果不存在，脚本会自动在其所在目录创建一个 `logs` 目录。

## 使用方法

1. **进入**包含 `fire.sh` 的项目目录。
2. **运行脚本**：
   ```bash
   ./fire.sh
   ```
3. **查看日志**：所有输出都会记录在 `logs/` 目录下，日志文件名格式为 `YYYY-MM-DD.log`。

## 定制

- **扩展框架**：  
  该框架提供了基本的结构和一系列常用工具。你可以通过以下方式进行扩展：
  - 在 `scripts/utils.sh` 中添加新的工具函数。
  - 在 `scripts/run.sh` 中实现额外的逻辑。
- **工具函数**：  
  `scripts/utils.sh` 中提供的函数作为常用操作的起点，可根据需求进行自定义。

## 日志维护

`fire.sh` 脚本会自动清理 30 天前的日志文件，以管理磁盘空间。